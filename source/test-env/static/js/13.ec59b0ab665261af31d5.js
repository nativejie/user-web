webpackJsonp([13],{O47N:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("O6FA"),i=a("UgCr"),n={components:{footerBar:s.a},data:()=>({searchData:{keyword:"",pageNum:1,pageSize:40},loading:!0,proList:[],total:0,elementContentList:""}),created(){this.elementContentList=window.elementContentList,this.handleSearch()},methods:{handleToDetail(t){this.$router.push({path:"/product",query:{uid:t.productUid}})},handleScroll(t){if(this.total-0==this.proList.length)return!1;t.srcElement.scrollTop+t.srcElement.offsetHeight>t.srcElement.scrollHeight-1&&(this.loading||(this.searchData.pageNum++,Object(i.f)(this.searchData).then(t=>{this.proList.push(...t.data.list),this.loading=!1}).catch(t=>{this.loading=!1,this.searchData.pageNum--})))},handleSearch(){this.loading=!0,Object(i.f)(this.searchData).then(t=>{this.proList=t.data.list,this.loading=!1}).catch(t=>{this.loading=!1})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"general",on:{scroll:t.handleScroll}},[s("div",{staticClass:"general_container"},[s("p",{staticClass:"title"},[t._v("\n      "+t._s(t.elementContentList.portal_general_title||t.$t("general.title"))+"\n    ")]),t._v(" "),s("p",{staticClass:"search"},[s("el-input",{model:{value:t.searchData.keyword,callback:function(e){t.$set(t.searchData,"keyword",e)},expression:"searchData.keyword"}}),t._v(" "),s("el-button",{staticClass:"search_btn",attrs:{icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v(t._s(t.elementContentList.portal_btns_search||t.$t("btns.search")))])],1),t._v(" "),s("div",{staticClass:"pro_list"},[t._l(t.proList,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],key:e.productBaseUid,staticClass:"pro_item",style:(a+1)%4==0?{marginRight:0}:"",on:{click:function(s){return t.handleToDetail(e,a)}}},[s("div",{staticClass:"pro_img"},[s("img",{attrs:{src:e.masterPicUrl}})]),t._v(" "),s("p",{staticClass:"pro_title"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"pro_price"},[t._v("Â£ "+t._s(e.price))])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading flex_c_c"},[s("p",{staticClass:"flex_c_c"},[s("img",{attrs:{src:a("ungd")}}),t._v(" "),s("span",[t._v(t._s(t.elementContentList.portal_general_loading||t.$t("general.loading")))])])])],2)]),t._v(" "),s("footerBar")],1)},staticRenderFns:[]};var r=a("VU/8")(n,l,!1,function(t){a("u4w3")},null,null);e.default=r.exports},u4w3:function(t,e){}});
//# sourceMappingURL=13.ec59b0ab665261af31d5.js.map