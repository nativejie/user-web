webpackJsonp([16],{GpP5:function(t,e){},"MF++":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("ocgh"),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},r={name:"",data(){return{showAddForm:!1,formData:{country:"United Kingdom",name:"",phoneNumber:"",postCode:"",detailAddress:"",detailAddressTwo:"",city:"",region:"",defaultStatus:0,memberId:""},formRules:{name:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text21||this.$t("address.text21")}],phoneNumber:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text22||this.$t("address.text22")}],postCode:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text23||this.$t("address.text23")}],detailAddress:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text24||this.$t("address.text24")}],city:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text25||this.$t("address.text25")}]},addressList:[],userInfo:"",status:"add",elementContentList:""}},mounted(){this.elementContentList=window.elementContentList,this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.formData.memberId=this.userInfo.id,this.getAddressList()},methods:{getAddressList(){Object(a.c)().then(t=>{let e=t.data,s="",a="";e.forEach((t,e)=>{t.defaultStatus&&(a=t,s=e)}),e.splice(s,1),e.unshift(a),this.addressList=e})},handleEdit(t){this.status="edit",Object(a.b)(t.id).then(t=>{200==t.code&&(this.formData=t.data,this.showAddForm=!0)})},handleRemove(t,e){const s=this.$createElement;let d=this.elementContentList.portal_address_text26||this.$t("address.text26"),r=this.elementContentList.portal_address_text27||this.$t("address.text27"),n=this.elementContentList.portal_btns_ok||this.$t("btns.ok"),l=this.elementContentList.portal_btns_cancel||this.$t("btns.cancel");this.$msgbox({message:s("div",null,[s("p",{style:"font-size: 16px;font-weight: 500;line-height: 24px;margin-bottom:8px;"},d),s("p",null,r)]),cancelButtonClass:"cancel_btn",confirmButtonClass:"confirm_btn",showCancelButton:!0,confirmButtonText:n,cancelButtonText:l,type:"warning"}).then(()=>{Object(a.d)(t.id).then(t=>{200==t.code&&this.getAddressList()})}).catch(()=>{})},handleConfirm(){this.$refs.formData.validate(t=>{if(!t)return!1;{const t=d({},this.formData,{defaultStatus:this.formData.defaultStatus?1:0});"add"==this.status?Object(a.a)(t).then(t=>{200==t.code&&(this.getAddressList(),this.showAddForm=!1,this.$message.success({message:this.elementContentList.portal_address_text28||this.$t("address.text28"),duration:1500}))}):Object(a.f)(t,this.formData.id).then(t=>{200==t.code&&(this.getAddressList(),this.showAddForm=!1,this.$message.success({message:this.elementContentList.portal_address_text28||this.$t("address.text28"),duration:1500}))})}})},handleCancel(){this.showAddForm=!1},handleAddNew(){this.status="add",this.showAddForm=!0,this.formData={country:"United Kingdom",name:"",phoneNumber:"",postCode:"",detailAddress:"",detailAddressTwo:"",city:"",region:"",defaultStatus:0,memberId:""}}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"addresses"},[s("div",{staticClass:"title flex_b_c"},[s("span",[t._v(t._s(t.elementContentList.portal_address_text1||t.$t("address.text1")))]),t._v(" "),this.addressList.length>0?s("el-button",{staticClass:"btn",on:{click:t.handleAddNew}},[t._v(t._s(t.elementContentList.portal_btns_addNew||t.$t("btns.addNew")))]):t._e()],1),t._v(" "),this.addressList.length>0?s("div",{staticClass:"addresses_container"},t._l(t.addressList,function(e,a){return s("div",{key:a+"a",staticClass:"addr_item",style:a%2==1?{marginRight:0}:""},[s("div",{staticClass:"addr_row",staticStyle:{"font-weight":"500"}},[s("div",{staticClass:"addr_label"},[t._v("\n          "+t._s(t.elementContentList.portal_address_text2||t.$t("address.text2"))+"\n        ")]),t._v(" "),s("div",{staticClass:"addr_val"},[t._v(t._s(e.name))])]),t._v(" "),s("div",{staticClass:"addr_row"},[s("div",{staticClass:"addr_label"},[t._v("\n          "+t._s(t.elementContentList.portal_address_text3||t.$t("address.text3"))+"\n        ")]),t._v(" "),s("div",{staticClass:"addr_val"},[t._v(t._s(e.country))])]),t._v(" "),s("div",{staticClass:"addr_row"},[s("div",{staticClass:"addr_label"},[t._v("\n          "+t._s(t.elementContentList.portal_address_text4||t.$t("address.text4"))+"\n        ")]),t._v(" "),s("div",{staticClass:"addr_val"},[t._v(t._s(e.detailAddress))])]),t._v(" "),s("div",{staticClass:"addr_row"},[s("div",{staticClass:"addr_label"},[t._v("\n          "+t._s(t.elementContentList.portal_address_text5||t.$t("address.text5"))+"\n        ")]),t._v(" "),s("div",{staticClass:"addr_val"},[t._v(t._s(e.postCode))])]),t._v(" "),s("div",{staticClass:"addr_row"},[s("div",{staticClass:"addr_label"},[t._v("\n          "+t._s(t.elementContentList.portal_address_text6||t.$t("address.text6"))+"\n        ")]),t._v(" "),s("div",{staticClass:"addr_val"},[t._v(t._s(e.phoneNumber))])]),t._v(" "),s("div",{staticClass:"btns"},[e.defaultStatus?s("div",{staticClass:"default"},[t._v("\n          "+t._s(t.elementContentList.portal_btns_default||t.$t("btns.default"))+"\n        ")]):t._e(),t._v(" "),s("div",{staticStyle:{float:"right"}},[s("el-button",{staticStyle:{color:"#f6497f",padding:"0"},attrs:{type:"text"},on:{click:function(s){return t.handleRemove(e,a)}}},[t._v(t._s("Remove"))]),t._v(" "),s("span",{staticStyle:{color:"#fde1e6",margin:"0 10px"}},[t._v(" | ")]),t._v(" "),s("el-button",{staticStyle:{color:"#f6497f",padding:"0"},attrs:{type:"text"},on:{click:function(s){return t.handleEdit(e)}}},[t._v(t._s("Edit"))])],1)])])}),0):t._e(),t._v(" "),0==this.addressList.length?s("div",{staticClass:"nodata flex_c_c"},[t._m(0),t._v(" "),s("p",{staticStyle:{margin:"22px 0"}},[t._v("\n      "+t._s(t.elementContentList.portal_address_text7||t.$t("address.text7"))+"\n    ")]),t._v(" "),s("p",[s("el-button",{staticClass:"btn",on:{click:t.handleAddNew}},[t._v(t._s(t.elementContentList.portal_address_text8||t.$t("address.text8")))])],1)]):t._e(),t._v(" "),t.showAddForm?s("div",{staticClass:"dialog flex_c_c"},[s("div",{staticClass:"form_card"},[s("p",{staticClass:"dia_title"},[t._v("\n        "+t._s("add"==t.status?t.elementContentList.portal_address_text9||t.$t("address.text9"):t.elementContentList.portal_address_text10||t.$t("address.text10"))+"\n      ")]),t._v(" "),s("el-form",{ref:"formData",attrs:{model:t.formData,"label-position":"top",rules:t.formRules}},[s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text11||t.$t("address.text11")}},[s("el-input",{attrs:{disabled:""},model:{value:t.formData.country,callback:function(e){t.$set(t.formData,"country",e)},expression:"formData.country"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text12||t.$t("address.text12"),required:""}},[s("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text13||t.$t("address.text13"),required:""}},[s("el-input",{model:{value:t.formData.phoneNumber,callback:function(e){t.$set(t.formData,"phoneNumber",e)},expression:"formData.phoneNumber"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text14||t.$t("address.text14"),required:""}},[s("el-input",{model:{value:t.formData.postCode,callback:function(e){t.$set(t.formData,"postCode",e)},expression:"formData.postCode"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text15||t.$t("address.text15"),required:""}},[s("el-input",{model:{value:t.formData.detailAddress,callback:function(e){t.$set(t.formData,"detailAddress",e)},expression:"formData.detailAddress"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text16||t.$t("address.text16")}},[s("el-input",{model:{value:t.formData.detailAddressTwo,callback:function(e){t.$set(t.formData,"detailAddressTwo",e)},expression:"formData.detailAddressTwo"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text17||t.$t("address.text17"),required:""}},[s("el-input",{model:{value:t.formData.city,callback:function(e){t.$set(t.formData,"city",e)},expression:"formData.city"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.elementContentList.portal_address_text18||t.$t("address.text18")}},[s("el-input",{model:{value:t.formData.region,callback:function(e){t.$set(t.formData,"region",e)},expression:"formData.region"}})],1),t._v(" "),s("el-form-item",{staticClass:"checkbox",attrs:{label:""}},[s("el-checkbox",{model:{value:t.formData.defaultStatus,callback:function(e){t.$set(t.formData,"defaultStatus",e)},expression:"formData.defaultStatus"}}),t._v(" "),s("span",{staticStyle:{"margin-left":"8px"}},[t._v(t._s(t.elementContentList.portal_address_text19||t.$t("address.text19")))])],1),t._v(" "),s("el-form-item",{attrs:{label:""}},[s("el-button",{staticClass:"btn",on:{click:t.handleConfirm}},[t._v(t._s("add"==t.status?t.elementContentList.portal_address_text8||t.$t("address.text8"):t.elementContentList.portal_address_text20||t.$t("address.text20")))]),t._v(" "),s("el-button",{staticClass:"btn btn2",on:{click:t.handleCancel}},[t._v(t._s(t.elementContentList.portal_btns_cancel||t.$t("btns.cancel")))])],1)],1)],1)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s("5xjm")}})])}]};var l=s("VU/8")(r,n,!1,function(t){s("GpP5")},null,null);e.default=l.exports}});
//# sourceMappingURL=16.20616a41875427f304f6.js.map