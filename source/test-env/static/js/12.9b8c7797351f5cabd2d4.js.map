{"version":3,"sources":["webpack:///src/views/login/forget.vue","webpack:///./src/views/login/forget.vue?3f4a","webpack:///./src/views/login/forget.vue"],"names":["forget","name","[object Object]","emailForm","email","code","emailRules","required","trigger","validator","rule","value","callback","Object","validate","Error","this","elementContentList","portal_login_form_validate2","$t","portal_login_form_validate1","portal_login_form_validate5","signForm","password","checkPwd","signRules","length","portal_login_form_validate4","portal_login_form_validate3","portal_login_form_validate9","portal_login_form_validate8","loading","pwdType","pwdType2","login_center_bg","login_center_bg_default","a","dialogVisible","supportDialogVisible","isAgree","showEmail","disabled","isSend","remaining","timer","watch","val","window","methods","setInterval","clearInterval","login","then","location","href","$refs","valid","params","account","authCode","res","$message","success","message","portal_login_msg1","duration","$router","push","catch","error","portal_login_msg2","err","login_forget","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","_s","portal_login_title2","ref","attrs","autoComplete","model","rules","label-position","prop","label","portal_login_form_label1","type","placeholder","portal_login_form_placeholder1","$$v","$set","expression","portal_login_form_label3","portal_login_form_placeholder3","class","on","click","handleSendCode","portal_login_text7","portal_login_text6","nativeOn","$event","preventDefault","handleNext","apply","arguments","portal_btns_next","portal_login_form_label4","portal_login_form_placeholder4","keyup","indexOf","_k","keyCode","key","handleRestPassword","slot","showPwd","portal_login_form_label5","portal_login_form_placeholder5","showPwd2","portal_login_text8","handleLoginIn","portal_login_text9","staticRenderFns","src","__webpack_require__","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qKAiKAA,GACAC,KAAA,SACAC,OA4CA,OACAC,WACAC,MAAA,GACAC,KAAA,IAEAC,YACAF,QAAAG,UAAA,EAAAC,QAAA,OAAAC,UAjDA,CAAAC,EAAAC,EAAAC,KACAD,EAEAE,OAAAC,EAAA,EAAAD,CAAAF,GAGAC,IAFAA,EAAA,IAAAG,MAAAC,KAAAC,mBAAAC,6BAAAF,KAAAG,GAAA,0BAFAP,EAAA,IAAAG,MAAAC,KAAAC,mBAAAG,6BAAAJ,KAAAG,GAAA,6BAgDAd,OAAAE,UAAA,EAAAC,QAAA,OAAAC,UAzCA,CAAAC,EAAAC,EAAAC,KACAD,EAGAC,IAFAA,EAAA,IAAAG,MAAAC,KAAAC,mBAAAI,6BAAAL,KAAAG,GAAA,8BAyCAG,UAEAC,SAAA,GACAC,SAAA,IAEAC,WAEAF,WAAAhB,UAAA,EAAAC,QAAA,OAAAC,UA3CA,CAAAC,EAAAC,EAAAC,KACAD,EAEAA,EAAAe,OAAA,EACAd,EAAA,IAAAG,MAAAC,KAAAC,mBAAAU,6BAAAX,KAAAG,GAAA,0BAEAP,IAJAA,EAAA,IAAAG,MAAAC,KAAAC,mBAAAW,6BAAAZ,KAAAG,GAAA,6BA0CAK,WAAAjB,UAAA,EAAAC,QAAA,OAAAC,UA1BA,CAAAC,EAAAC,EAAAC,KACAD,EAEAA,GAAAK,KAAAM,SAAAC,SACAX,EAAA,IAAAG,MAAAC,KAAAC,mBAAAY,6BAAAb,KAAAG,GAAA,0BAEAP,IAJAA,EAAA,IAAAG,MAAAC,KAAAC,mBAAAa,6BAAAd,KAAAG,GAAA,8BA0BAY,SAAA,EACAC,QAAA,WACAC,SAAA,WACMC,gBAAAC,EAAAC,EACNC,eAAA,EACAC,sBAAA,EACAC,SAAA,EACAC,WAAA,EACAC,UAAA,EACAC,QAAA,EACAC,UAAA,GACAC,MAAA,KACA3B,mBAAA,KAGA4B,OACA3C,kBAAA4C,GACAA,GAEAjC,OAAAC,EAAA,EAAAD,CAAAiC,GAGA9B,KAAAyB,UAAA,EAJAzB,KAAAyB,UAAA,IAQAvC,UACAc,KAAAC,mBAAA8B,OAAA9B,oBAGA+B,SACA9C,iBACAc,KAAAyB,UAAA,EACAzB,KAAA0B,QAAA,EACA1B,KAAA4B,MAAAK,YAAA,KACAjC,KAAA2B,YACA,GAAA3B,KAAA2B,YACAO,cAAAlC,KAAA4B,OACA5B,KAAAyB,UAAA,EACAzB,KAAA0B,QAAA,EACA1B,KAAA2B,UAAA,KAEA,KACM9B,OAAAsC,EAAA,EAAAtC,CAANG,KAAAb,UAAAC,OAAAgD,KAAA,SAIAlD,gBACA6C,OAAAM,SAAAC,KAAA,UAGApD,oBAAA4C,KAIA5C,qBACAc,KAAAuC,MAAAjC,SAAAR,SAAA0C,IACA,IAAAA,EAmBA,SAnBA,CACAxC,KAAAe,SAAA,EACA,MAAA0B,GACAC,QAAA1C,KAAAb,UAAAC,MACAuD,SAAA3C,KAAAb,UAAAE,KACAkB,SAAAP,KAAAM,SAAAC,UAEUV,OAAAsC,EAAA,EAAAtC,CAAV4C,GAAAL,KAAAQ,IACA,KAAAA,EAAAvD,MACAW,KAAA6C,SAAAC,SAAAC,QAAA/C,KAAAC,mBAAA+C,mBAAAhD,KAAAG,GAAA,cAAA8C,SAAA,OACAjD,KAAAe,SAAA,EACAf,KAAAkD,QAAAC,KAAA,WAEAnD,KAAAe,SAAA,IAEAqC,MAAA,KACApD,KAAAe,SAAA,QAOA7B,UACA,aAAAc,KAAAgB,QACAhB,KAAAgB,QAAA,GAEAhB,KAAAgB,QAAA,YAGA9B,WACA,aAAAc,KAAAiB,SACAjB,KAAAiB,SAAA,GAEAjB,KAAAiB,SAAA,YAGA/B,aACAc,KAAAuC,MAAApD,UAAAW,SAAA0C,IACA,IAAAA,EAaA,SAZAxC,KAAAe,SAAA,EACUlB,OAAAsC,EAAA,EAAAtC,CAAVG,KAAAb,UAAAC,MAAAY,KAAAb,UAAAE,MAAA+C,KAAAQ,IACA,KAAAA,EAAAvD,KACAW,KAAAwB,WAAA,EAEAxB,KAAA6C,SAAAQ,OAAAN,QAAA/C,KAAAC,mBAAAqD,mBAAAtD,KAAAG,GAAA,cAAA8C,SAAA,OAEAjD,KAAAe,SAAA,IACAqC,MAAAG,IACAvD,KAAAe,SAAA,SC9TeyC,GADEC,OAbjB,WAA0B,IAAAC,EAAA1D,KAAa2D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BL,EAAAM,GAAA,GAAAN,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,wBAAkCF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,KAAUE,YAAA,OAAiBL,EAAAO,GAAA,aAAAP,EAAAQ,GAAAR,EAAAzD,mBAAAkE,qBAAAT,EAAAvD,GAAA,+BAAAuD,EAAAO,GAAA,KAAAP,EAAA,UAAAG,EAAA,OAAuJE,YAAA,gBAA0BF,EAAA,WAAgBO,IAAA,YAAAC,OAAuBC,aAAA,KAAAC,MAAAb,EAAAvE,UAAAqF,MAAAd,EAAApE,WAAAmF,iBAAA,SAAyFZ,EAAA,gBAAqBQ,OAAOK,KAAA,QAAAC,MAAAjB,EAAAzD,mBAAA2E,0BAC1lBlB,EAAAvD,GAAA,wBAA2C0D,EAAA,YAAiBQ,OAAOpF,KAAA,QAAA4F,KAAA,OAAAP,aAAA,KAAAQ,YAAApB,EAAAzD,mBAAA8E,gCACnErB,EAAAvD,GAAA,4BAAkDoE,OAAQ5E,MAAA+D,EAAAvE,UAAA,MAAAS,SAAA,SAAAoF,GAAqDtB,EAAAuB,KAAAvB,EAAAvE,UAAA,QAAA6F,IAAsCE,WAAA,sBAA+B,GAAAxB,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCE,YAAA,OAAAM,OAA0BK,KAAA,OAAAC,MAAAjB,EAAAzD,mBAAAkF,0BACnPzB,EAAAvD,GAAA,wBAA2C0D,EAAA,YAAiBQ,OAAOpF,KAAA,OAAA4F,KAAA,OAAAP,aAAA,KAAAQ,YAAApB,EAAAzD,mBAAAmF,gCACnE1B,EAAAvD,GAAA,4BAAkDoE,OAAQ5E,MAAA+D,EAAAvE,UAAA,KAAAS,SAAA,SAAAoF,GAAoDtB,EAAAuB,KAAAvB,EAAAvE,UAAA,OAAA6F,IAAqCE,WAAA,oBAA8BxB,EAAAO,GAAA,KAAAJ,EAAA,aAA8BE,YAAA,YAAAsB,MAAA3B,EAAAjC,SAAA,cAAA4C,OAAoEQ,KAAA,OAAApD,SAAAiC,EAAAjC,UAAsC6D,IAAKC,MAAA7B,EAAA8B,kBAA4B9B,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAhC,OAC1VgC,EAAAzD,mBAAAwF,oBACA/B,EAAAvD,GAAA,oBAAAuD,EAAA/B,UAAA,MACA+B,EAAAzD,mBAAAyF,oBAAAhC,EAAAvD,GAAA,2BAAAuD,EAAAO,GAAA,KAAAJ,EAAA,aAA+HE,YAAA,aAAAM,OAAgCQ,KAAA,UAAA9D,QAAA2C,EAAA3C,SAAuC4E,UAAWJ,MAAA,SAAAK,GAAiD,OAAxBA,EAAAC,iBAAwBnC,EAAAoC,WAAAC,MAAA,KAAAC,eAA+CtC,EAAAO,GAAA,eAAAP,EAAAQ,GAAAR,EAAAzD,mBAAAgG,kBAAAvC,EAAAvD,GAAA,kCAAA0D,EAAA,OAA6HE,YAAA,gBAA0BF,EAAA,WAAgBO,IAAA,WAAAC,OAAsBC,aAAA,KAAAC,MAAAb,EAAApD,SAAAkE,MAAAd,EAAAjD,UAAAgE,iBAAA,SAAuFZ,EAAA,gBAAqBQ,OAAOK,KAAA,WAAAC,MAAAjB,EAAAzD,mBAAAiG,0BACjmBxC,EAAAvD,GAAA,wBAA2C0D,EAAA,YAAiBQ,OAAOpF,KAAA,WAAA4F,KAAAnB,EAAA1C,QAAAsD,aAAA,KAAAQ,YAAApB,EAAAzD,mBAAAkG,gCACnEzC,EAAAvD,GAAA,4BAAkDwF,UAAWS,MAAA,SAAAR,GAAyB,OAAAA,EAAAf,KAAAwB,QAAA,QAAA3C,EAAA4C,GAAAV,EAAAW,QAAA,WAAAX,EAAAY,IAAA,SAAsF,KAAe9C,EAAA+C,mBAAAV,MAAA,KAAAC,aAAsDzB,OAAQ5E,MAAA+D,EAAApD,SAAA,SAAAV,SAAA,SAAAoF,GAAuDtB,EAAAuB,KAAAvB,EAAApD,SAAA,WAAA0E,IAAwCE,WAAA,uBAAiCrB,EAAA,QAAaQ,OAAOqC,KAAA,UAAgBpB,IAAKC,MAAA7B,EAAAiD,SAAoBD,KAAA,WAAe7C,EAAA,KAAUE,YAAA,sBAA2B,GAAAL,EAAAO,GAAA,KAAAJ,EAAA,gBAAyCQ,OAAOK,KAAA,WAAAC,MAAAjB,EAAAzD,mBAAA2G,0BAC1hBlD,EAAAvD,GAAA,wBAA2C0D,EAAA,YAAiBQ,OAAOpF,KAAA,WAAA4F,KAAAnB,EAAAzC,SAAAqD,aAAA,KAAAQ,YAAApB,EAAAzD,mBAAA4G,gCACnEnD,EAAAvD,GAAA,4BAAkDwF,UAAWS,MAAA,SAAAR,GAAyB,OAAAA,EAAAf,KAAAwB,QAAA,QAAA3C,EAAA4C,GAAAV,EAAAW,QAAA,WAAAX,EAAAY,IAAA,SAAsF,KAAe9C,EAAA+C,mBAAAV,MAAA,KAAAC,aAAsDzB,OAAQ5E,MAAA+D,EAAApD,SAAA,SAAAV,SAAA,SAAAoF,GAAuDtB,EAAAuB,KAAAvB,EAAApD,SAAA,WAAA0E,IAAwCE,WAAA,uBAAiCrB,EAAA,QAAaQ,OAAOqC,KAAA,UAAgBpB,IAAKC,MAAA7B,EAAAoD,UAAqBJ,KAAA,WAAe7C,EAAA,KAAUE,YAAA,sBAA2B,OAAAL,EAAAO,GAAA,KAAAJ,EAAA,aAA0CE,YAAA,aAAAM,OAAgCQ,KAAA,UAAA9D,QAAA2C,EAAA3C,SAAuC4E,UAAWJ,MAAA,SAAAK,GAAiD,OAAxBA,EAAAC,iBAAwBnC,EAAA+C,mBAAAV,MAAA,KAAAC,eAAuDtC,EAAAO,GAAA,eAAAP,EAAAQ,GAAAR,EAAAzD,mBAAA8G,oBAAArD,EAAAvD,GAAA,oCAAAuD,EAAAO,GAAA,KAAAJ,EAAA,KAA2IE,YAAA,iBAA2BF,EAAA,QAAayB,IAAIC,MAAA7B,EAAAsD,iBAA2BtD,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAzD,mBAAAgH,oBAAAvD,EAAAvD,GAAA,4BAEh5B+G,iBADjB,WAAoC,IAAavD,EAAb3D,KAAa4D,eAA0BC,EAAvC7D,KAAuC8D,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYQ,OAAO8C,IAAMC,EAAQ,WAA7IpH,KAA0KiE,GAAA,KAAAJ,EAAA,OAAwBQ,OAAO8C,IAAMC,EAAQ,gBCT3P,IAcAC,EAdyBD,EAAQ,OAcjCE,CACEtI,EACAwE,GATF,EAVA,SAAA+D,GACEH,EAAQ,SAaV,KAEA,MAUeI,EAAA,QAAAH,EAAiB","file":"static/js/12.9b8c7797351f5cabd2d4.js","sourcesContent":["<template>\r\n  <div class=\"forget flex_c_c\">\r\n    <div class=\"logo flex_c_c\">\r\n      <img src=\"@/assets/index/logo1.png\" />\r\n      <img src=\"@/assets/index/pokidol.png\" />\r\n    </div>\r\n    <div class=\"login_main flex_c_c\">\r\n      <div class=\"forget_card\">\r\n        <p class=\"p1\">\r\n          {{ elementContentList.portal_login_title2 || $t(\"login.title2\") }}\r\n        </p>\r\n        <div v-if=\"showEmail\" class=\"forger_card\">\r\n          <el-form\r\n            autoComplete=\"on\"\r\n            :model=\"emailForm\"\r\n            :rules=\"emailRules\"\r\n            ref=\"emailForm\"\r\n            label-position=\"top\"\r\n          >\r\n            <el-form-item\r\n              prop=\"email\"\r\n              :label=\"\r\n                elementContentList.portal_login_form_label1 ||\r\n                $t('login.form.label1')\r\n              \"\r\n            >\r\n              <el-input\r\n                name=\"email\"\r\n                type=\"text\"\r\n                v-model=\"emailForm.email\"\r\n                autoComplete=\"on\"\r\n                :placeholder=\"\r\n                  elementContentList.portal_login_form_placeholder1 ||\r\n                  $t('login.form.placeholder1')\r\n                \"\r\n              >\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              prop=\"code\"\r\n              class=\"code\"\r\n              :label=\"\r\n                elementContentList.portal_login_form_label3 ||\r\n                $t('login.form.label3')\r\n              \"\r\n            >\r\n              <el-input\r\n                name=\"code\"\r\n                type=\"text\"\r\n                v-model=\"emailForm.code\"\r\n                autoComplete=\"on\"\r\n                :placeholder=\"\r\n                  elementContentList.portal_login_form_placeholder3 ||\r\n                  $t('login.form.placeholder3')\r\n                \"\r\n              >\r\n              </el-input>\r\n              <el-button\r\n                type=\"text\"\r\n                :disabled=\"disabled\"\r\n                :class=\"disabled ? 'disabled' : ''\"\r\n                class=\"send_code\"\r\n                @click=\"handleSendCode\"\r\n                >{{\r\n                  isSend\r\n                    ? elementContentList.portal_login_text7 ||\r\n                      $t(\"login.text7\") + ` (${remaining} s)`\r\n                    : elementContentList.portal_login_text6 || $t(\"login.text6\")\r\n                }}</el-button\r\n              >\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-button\r\n            class=\"forget_btn\"\r\n            type=\"primary\"\r\n            :loading=\"loading\"\r\n            @click.native.prevent=\"handleNext\"\r\n          >\r\n            {{ elementContentList.portal_btns_next || $t(\"btns.next\") }}\r\n          </el-button>\r\n        </div>\r\n        <div v-else class=\"forger_card\">\r\n          <el-form\r\n            autoComplete=\"on\"\r\n            :model=\"signForm\"\r\n            :rules=\"signRules\"\r\n            ref=\"signForm\"\r\n            label-position=\"top\"\r\n          >\r\n            <el-form-item\r\n              prop=\"password\"\r\n              :label=\"\r\n                elementContentList.portal_login_form_label4 ||\r\n                $t('login.form.label4')\r\n              \"\r\n            >\r\n              <el-input\r\n                name=\"password\"\r\n                :type=\"pwdType\"\r\n                @keyup.enter.native=\"handleRestPassword\"\r\n                v-model=\"signForm.password\"\r\n                autoComplete=\"on\"\r\n                :placeholder=\"\r\n                  elementContentList.portal_login_form_placeholder4 ||\r\n                  $t('login.form.placeholder4')\r\n                \"\r\n              >\r\n                <span slot=\"suffix\" @click=\"showPwd\">\r\n                  <i class=\"el-icon-view\"></i>\r\n                </span>\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              prop=\"checkPwd\"\r\n              :label=\"\r\n                elementContentList.portal_login_form_label5 ||\r\n                $t('login.form.label5')\r\n              \"\r\n            >\r\n              <el-input\r\n                name=\"checkPwd\"\r\n                :type=\"pwdType2\"\r\n                @keyup.enter.native=\"handleRestPassword\"\r\n                v-model=\"signForm.checkPwd\"\r\n                autoComplete=\"on\"\r\n                :placeholder=\"\r\n                  elementContentList.portal_login_form_placeholder5 ||\r\n                  $t('login.form.placeholder5')\r\n                \"\r\n              >\r\n                <span slot=\"suffix\" @click=\"showPwd2\">\r\n                  <i class=\"el-icon-view\"></i>\r\n                </span>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-button\r\n            class=\"forget_btn\"\r\n            type=\"primary\"\r\n            :loading=\"loading\"\r\n            @click.native.prevent=\"handleRestPassword\"\r\n          >\r\n            {{ elementContentList.portal_login_text8 || $t(\"login.text8\") }}\r\n          </el-button>\r\n        </div>\r\n        <p class=\"have_account\">\r\n          <span @click=\"handleLoginIn\">{{\r\n            elementContentList.portal_login_text9 || $t(\"login.text9\")\r\n          }}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { isvalidateEmail } from '@/utils/validate';\r\nimport { setSupport, getSupport, setCookie, getCookie } from '@/utils/support';\r\nimport login_center_bg from '@/assets/images/login_center_bg.png'\r\nimport { forgetPassword, forgetPasswordAuthCodeSend, registerCheckAuthCodeSend } from '@/api/login'\r\n\r\nexport default {\r\n  name: 'forget',\r\n  data () {\r\n    const validateEmail = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate1 || this.$t('login.form.validate1')))\r\n      } else if (!isvalidateEmail(value)) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate2 || this.$t('login.form.validate2')))\r\n      } else {\r\n        callback()\r\n      }\r\n    };\r\n    const validateCode = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate5 || this.$t('login.form.validate5')))\r\n      } else {\r\n        callback()\r\n      }\r\n    };\r\n    const validatePass = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate3 || this.$t('login.form.validate3')))\r\n      } else if (value.length < 8) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate4 || this.$t('login.form.validate4')))\r\n      } else {\r\n        callback()\r\n      }\r\n    };\r\n    // const validateUsername = (rule, value, callback) => {\r\n    //   if (!value) {\r\n    //     callback(new Error(this.$t('login.usernameValidate')))\r\n    //   } else if (value.length > 20) {\r\n    //     callback(new Error(this.$t('login.usernameValidate2')))\r\n    //   } else {\r\n    //     callback()\r\n    //   }\r\n    // }\r\n    const validateCheckPwd = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate8 || this.$t('login.form.validate8')))\r\n      } else if (value != this.signForm.password) {\r\n        callback(new Error(this.elementContentList.portal_login_form_validate9 || this.$t('login.form.validate9')))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      emailForm: {\r\n        email: '',\r\n        code: '',\r\n      },\r\n      emailRules: {\r\n        email: [{ required: true, trigger: 'blur', validator: validateEmail }],\r\n        code: [{ required: true, trigger: 'blur', validator: validateCode }]\r\n      },\r\n      signForm: {\r\n        // username: '',\r\n        password: '',\r\n        checkPwd: '',\r\n      },\r\n      signRules: {\r\n        // username: [{ required: true, trigger: 'change', validator: validateUsername }],\r\n        password: [{ required: true, trigger: 'blur', validator: validatePass }],\r\n        checkPwd: [{ required: true, trigger: 'blur', validator: validateCheckPwd }]\r\n      },\r\n      loading: false,\r\n      pwdType: 'password',\r\n      pwdType2: 'password',\r\n      login_center_bg,\r\n      dialogVisible: false,\r\n      supportDialogVisible: false,\r\n      isAgree: false,\r\n      showEmail: true,\r\n      disabled: true,\r\n      isSend: false,\r\n      remaining: 60,\r\n      timer: null,\r\n      elementContentList: '',\r\n    }\r\n  },\r\n  watch: {\r\n    'emailForm.email' (val) {\r\n      if (!val) {\r\n        this.disabled = true\r\n      } else if (!isvalidateEmail(val)) {\r\n        this.disabled = true\r\n      } else {\r\n        this.disabled = false\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.elementContentList = window.elementContentList\r\n\r\n  },\r\n  methods: {\r\n    handleSendCode () {\r\n      this.disabled = true\r\n      this.isSend = true\r\n      this.timer = setInterval(() => {\r\n        this.remaining--\r\n        if (this.remaining == 0) {\r\n          clearInterval(this.timer)\r\n          this.disabled = false\r\n          this.isSend = false\r\n          this.remaining = 60\r\n        }\r\n      }, 1000);\r\n      forgetPasswordAuthCodeSend(this.emailForm.email).then(() => {\r\n\r\n      })\r\n    },\r\n    handleLoginIn () {\r\n      window.location.href = '/login'\r\n    },\r\n    // 忘记密码\r\n    handleShowAgreement (val) {\r\n\r\n    },\r\n    // 确认重置密码\r\n    handleRestPassword () {\r\n      this.$refs.signForm.validate(valid => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          const params = {\r\n            account: this.emailForm.email,\r\n            authCode: this.emailForm.code,\r\n            password: this.signForm.password,\r\n          }\r\n          forgetPassword(params).then(res => {\r\n            if (res.code == 200) {\r\n              this.$message.success({ message: this.elementContentList.portal_login_msg1 || this.$t('login.msg1'), duration: 1500 })\r\n              this.loading = false\r\n              this.$router.push('/login')\r\n            } else {\r\n              this.loading = false;\r\n            }\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    showPwd () {\r\n      if (this.pwdType === 'password') {\r\n        this.pwdType = ''\r\n      } else {\r\n        this.pwdType = 'password'\r\n      }\r\n    },\r\n    showPwd2 () {\r\n      if (this.pwdType2 === 'password') {\r\n        this.pwdType2 = ''\r\n      } else {\r\n        this.pwdType2 = 'password'\r\n      }\r\n    },\r\n    handleNext () {\r\n      this.$refs.emailForm.validate(valid => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          registerCheckAuthCodeSend(this.emailForm.email, this.emailForm.code).then(res => {\r\n            if (res.code == 200) {\r\n              this.showEmail = false\r\n            } else {\r\n              this.$message.error({ message: this.elementContentList.portal_login_msg2 || this.$t('login.msg2'), duration: 1500 })\r\n            }\r\n            this.loading = false;\r\n          }).catch(err => {\r\n            this.loading = false;\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.forget {\r\n  width: 100%;\r\n  height: calc(100% - 56px);\r\n  .logo {\r\n    flex: 1;\r\n    height: 100%;\r\n    background: linear-gradient(127deg, #fe686f 0%, #ef2494 100%);\r\n    flex-direction: column;\r\n    img:nth-of-type(1) {\r\n      width: 579px;\r\n    }\r\n    img:nth-of-type(2) {\r\n      width: 524px;\r\n    }\r\n  }\r\n  .login_main {\r\n    width: 760px;\r\n    height: 100%;\r\n    background: #fff;\r\n    .forget_card {\r\n      width: 400px;\r\n      p {\r\n        margin: 0;\r\n      }\r\n      .p1 {\r\n        font-size: 38px;\r\n        font-weight: 600;\r\n        line-height: 46px;\r\n        color: #242731;\r\n        margin-bottom: 16px;\r\n      }\r\n      .forger_card {\r\n        gap: 10px;\r\n        margin-top: 54px;\r\n        .el-form-item {\r\n          margin-bottom: 20px;\r\n        }\r\n        .code {\r\n          .el-input,\r\n          .el-input__inner {\r\n            width: 100%;\r\n          }\r\n          .send_code {\r\n            width: 157px;\r\n            height: 59px;\r\n            font-size: 14px;\r\n            color: #f6497f;\r\n            background: transparent;\r\n            position: absolute;\r\n            right: 0px;\r\n          }\r\n          .disabled {\r\n            color: #ff9eb6;\r\n          }\r\n        }\r\n        .el-form-item__label {\r\n          font-size: 16px;\r\n          font-weight: 500;\r\n          line-height: 20.83px;\r\n          color: #242731;\r\n          padding: 0 0 12px;\r\n        }\r\n        .el-input__inner {\r\n          width: 100%;\r\n          height: 54px;\r\n          border-radius: 999px;\r\n          padding: 16px 24px;\r\n          gap: 10px;\r\n          box-sizing: border-box;\r\n          border: none;\r\n          background: #f2f4f7;\r\n        }\r\n        .el-input__suffix {\r\n          right: 21px;\r\n          line-height: 59px;\r\n          i {\r\n            font-size: 20px;\r\n            color: #777e90;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n        .el-form-item__label::before {\r\n          content: \"\";\r\n        }\r\n      }\r\n      .forget_btn {\r\n        width: 100%;\r\n        height: 60px;\r\n        border-radius: 999px;\r\n        border: none;\r\n        margin-top: 41px;\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        line-height: 24.2px;\r\n        color: #fffaf7;\r\n      }\r\n      .have_account {\r\n        text-align: center;\r\n        font-size: 14px;\r\n        line-height: 22px;\r\n        color: #f6497f;\r\n        margin-top: 31px;\r\n        span {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/forget.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forget flex_c_c\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"login_main flex_c_c\"},[_c('div',{staticClass:\"forget_card\"},[_c('p',{staticClass:\"p1\"},[_vm._v(\"\\n        \"+_vm._s(_vm.elementContentList.portal_login_title2 || _vm.$t(\"login.title2\"))+\"\\n      \")]),_vm._v(\" \"),(_vm.showEmail)?_c('div',{staticClass:\"forger_card\"},[_c('el-form',{ref:\"emailForm\",attrs:{\"autoComplete\":\"on\",\"model\":_vm.emailForm,\"rules\":_vm.emailRules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"prop\":\"email\",\"label\":_vm.elementContentList.portal_login_form_label1 ||\n              _vm.$t('login.form.label1')}},[_c('el-input',{attrs:{\"name\":\"email\",\"type\":\"text\",\"autoComplete\":\"on\",\"placeholder\":_vm.elementContentList.portal_login_form_placeholder1 ||\n                _vm.$t('login.form.placeholder1')},model:{value:(_vm.emailForm.email),callback:function ($$v) {_vm.$set(_vm.emailForm, \"email\", $$v)},expression:\"emailForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"code\",attrs:{\"prop\":\"code\",\"label\":_vm.elementContentList.portal_login_form_label3 ||\n              _vm.$t('login.form.label3')}},[_c('el-input',{attrs:{\"name\":\"code\",\"type\":\"text\",\"autoComplete\":\"on\",\"placeholder\":_vm.elementContentList.portal_login_form_placeholder3 ||\n                _vm.$t('login.form.placeholder3')},model:{value:(_vm.emailForm.code),callback:function ($$v) {_vm.$set(_vm.emailForm, \"code\", $$v)},expression:\"emailForm.code\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"send_code\",class:_vm.disabled ? 'disabled' : '',attrs:{\"type\":\"text\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handleSendCode}},[_vm._v(_vm._s(_vm.isSend\n                  ? _vm.elementContentList.portal_login_text7 ||\n                    _vm.$t(\"login.text7\") + \" (\" + _vm.remaining + \" s)\"\n                  : _vm.elementContentList.portal_login_text6 || _vm.$t(\"login.text6\")))])],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"forget_btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleNext.apply(null, arguments)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.elementContentList.portal_btns_next || _vm.$t(\"btns.next\"))+\"\\n        \")])],1):_c('div',{staticClass:\"forger_card\"},[_c('el-form',{ref:\"signForm\",attrs:{\"autoComplete\":\"on\",\"model\":_vm.signForm,\"rules\":_vm.signRules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"prop\":\"password\",\"label\":_vm.elementContentList.portal_login_form_label4 ||\n              _vm.$t('login.form.label4')}},[_c('el-input',{attrs:{\"name\":\"password\",\"type\":_vm.pwdType,\"autoComplete\":\"on\",\"placeholder\":_vm.elementContentList.portal_login_form_placeholder4 ||\n                _vm.$t('login.form.placeholder4')},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleRestPassword.apply(null, arguments)}},model:{value:(_vm.signForm.password),callback:function ($$v) {_vm.$set(_vm.signForm, \"password\", $$v)},expression:\"signForm.password\"}},[_c('span',{attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.showPwd},slot:\"suffix\"},[_c('i',{staticClass:\"el-icon-view\"})])])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"checkPwd\",\"label\":_vm.elementContentList.portal_login_form_label5 ||\n              _vm.$t('login.form.label5')}},[_c('el-input',{attrs:{\"name\":\"checkPwd\",\"type\":_vm.pwdType2,\"autoComplete\":\"on\",\"placeholder\":_vm.elementContentList.portal_login_form_placeholder5 ||\n                _vm.$t('login.form.placeholder5')},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleRestPassword.apply(null, arguments)}},model:{value:(_vm.signForm.checkPwd),callback:function ($$v) {_vm.$set(_vm.signForm, \"checkPwd\", $$v)},expression:\"signForm.checkPwd\"}},[_c('span',{attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.showPwd2},slot:\"suffix\"},[_c('i',{staticClass:\"el-icon-view\"})])])],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"forget_btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleRestPassword.apply(null, arguments)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.elementContentList.portal_login_text8 || _vm.$t(\"login.text8\"))+\"\\n        \")])],1),_vm._v(\" \"),_c('p',{staticClass:\"have_account\"},[_c('span',{on:{\"click\":_vm.handleLoginIn}},[_vm._v(_vm._s(_vm.elementContentList.portal_login_text9 || _vm.$t(\"login.text9\")))])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo flex_c_c\"},[_c('img',{attrs:{\"src\":require(\"@/assets/index/logo1.png\")}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/index/pokidol.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7783b5c6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/forget.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7783b5c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./forget.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7783b5c6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./forget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/forget.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}