webpackJsonp([12],{"L9W/":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l("E4LH"),o=(l("4OJU"),l("hNpR")),n=l.n(o),a=l("M9A7"),s={name:"forget",data(){return{emailForm:{email:"",code:""},emailRules:{email:[{required:!0,trigger:"blur",validator:(e,t,l)=>{t?Object(i.a)(t)?l():l(new Error(this.elementContentList.portal_login_form_validate2||this.$t("login.form.validate2"))):l(new Error(this.elementContentList.portal_login_form_validate1||this.$t("login.form.validate1")))}}],code:[{required:!0,trigger:"blur",validator:(e,t,l)=>{t?l():l(new Error(this.elementContentList.portal_login_form_validate5||this.$t("login.form.validate5")))}}]},signForm:{password:"",checkPwd:""},signRules:{password:[{required:!0,trigger:"blur",validator:(e,t,l)=>{t?t.length<8?l(new Error(this.elementContentList.portal_login_form_validate4||this.$t("login.form.validate4"))):l():l(new Error(this.elementContentList.portal_login_form_validate3||this.$t("login.form.validate3")))}}],checkPwd:[{required:!0,trigger:"blur",validator:(e,t,l)=>{t?t!=this.signForm.password?l(new Error(this.elementContentList.portal_login_form_validate9||this.$t("login.form.validate9"))):l():l(new Error(this.elementContentList.portal_login_form_validate8||this.$t("login.form.validate8")))}}]},loading:!1,pwdType:"password",pwdType2:"password",login_center_bg:n.a,dialogVisible:!1,supportDialogVisible:!1,isAgree:!1,showEmail:!0,disabled:!0,isSend:!1,remaining:60,timer:null,elementContentList:""}},watch:{"emailForm.email"(e){e&&Object(i.a)(e)?this.disabled=!1:this.disabled=!0}},created(){this.elementContentList=window.elementContentList},methods:{handleSendCode(){this.disabled=!0,this.isSend=!0,this.timer=setInterval(()=>{this.remaining--,0==this.remaining&&(clearInterval(this.timer),this.disabled=!1,this.isSend=!1,this.remaining=60)},1e3),Object(a.b)(this.emailForm.email).then(()=>{})},handleLoginIn(){window.location.href="/login"},handleShowAgreement(e){},handleRestPassword(){this.$refs.signForm.validate(e=>{if(!e)return!1;{this.loading=!0;const e={account:this.emailForm.email,authCode:this.emailForm.code,password:this.signForm.password};Object(a.a)(e).then(e=>{200==e.code?(this.$message.success({message:this.elementContentList.portal_login_msg1||this.$t("login.msg1"),duration:1500}),this.loading=!1,this.$router.push("/login")):this.loading=!1}).catch(()=>{this.loading=!1})}})},showPwd(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},showPwd2(){"password"===this.pwdType2?this.pwdType2="":this.pwdType2="password"},handleNext(){this.$refs.emailForm.validate(e=>{if(!e)return!1;this.loading=!0,Object(a.f)(this.emailForm.email,this.emailForm.code).then(e=>{200==e.code?this.showEmail=!1:this.$message.error({message:this.elementContentList.portal_login_msg2||this.$t("login.msg2"),duration:1500}),this.loading=!1}).catch(e=>{this.loading=!1})})}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"forget flex_c_c"},[e._m(0),e._v(" "),l("div",{staticClass:"login_main flex_c_c"},[l("div",{staticClass:"forget_card"},[l("p",{staticClass:"p1"},[e._v("\n        "+e._s(e.elementContentList.portal_login_title2||e.$t("login.title2"))+"\n      ")]),e._v(" "),e.showEmail?l("div",{staticClass:"forger_card"},[l("el-form",{ref:"emailForm",attrs:{autoComplete:"on",model:e.emailForm,rules:e.emailRules,"label-position":"top"}},[l("el-form-item",{attrs:{prop:"email",label:e.elementContentList.portal_login_form_label1||e.$t("login.form.label1")}},[l("el-input",{attrs:{name:"email",type:"text",autoComplete:"on",placeholder:e.elementContentList.portal_login_form_placeholder1||e.$t("login.form.placeholder1")},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),e._v(" "),l("el-form-item",{staticClass:"code",attrs:{prop:"code",label:e.elementContentList.portal_login_form_label3||e.$t("login.form.label3")}},[l("el-input",{attrs:{name:"code",type:"text",autoComplete:"on",placeholder:e.elementContentList.portal_login_form_placeholder3||e.$t("login.form.placeholder3")},model:{value:e.emailForm.code,callback:function(t){e.$set(e.emailForm,"code",t)},expression:"emailForm.code"}}),e._v(" "),l("el-button",{staticClass:"send_code",class:e.disabled?"disabled":"",attrs:{type:"text",disabled:e.disabled},on:{click:e.handleSendCode}},[e._v(e._s(e.isSend?e.elementContentList.portal_login_text7||e.$t("login.text7")+" ("+e.remaining+" s)":e.elementContentList.portal_login_text6||e.$t("login.text6")))])],1)],1),e._v(" "),l("el-button",{staticClass:"forget_btn",attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleNext.apply(null,arguments)}}},[e._v("\n          "+e._s(e.elementContentList.portal_btns_next||e.$t("btns.next"))+"\n        ")])],1):l("div",{staticClass:"forger_card"},[l("el-form",{ref:"signForm",attrs:{autoComplete:"on",model:e.signForm,rules:e.signRules,"label-position":"top"}},[l("el-form-item",{attrs:{prop:"password",label:e.elementContentList.portal_login_form_label4||e.$t("login.form.label4")}},[l("el-input",{attrs:{name:"password",type:e.pwdType,autoComplete:"on",placeholder:e.elementContentList.portal_login_form_placeholder4||e.$t("login.form.placeholder4")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRestPassword.apply(null,arguments)}},model:{value:e.signForm.password,callback:function(t){e.$set(e.signForm,"password",t)},expression:"signForm.password"}},[l("span",{attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[l("i",{staticClass:"el-icon-view"})])])],1),e._v(" "),l("el-form-item",{attrs:{prop:"checkPwd",label:e.elementContentList.portal_login_form_label5||e.$t("login.form.label5")}},[l("el-input",{attrs:{name:"checkPwd",type:e.pwdType2,autoComplete:"on",placeholder:e.elementContentList.portal_login_form_placeholder5||e.$t("login.form.placeholder5")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRestPassword.apply(null,arguments)}},model:{value:e.signForm.checkPwd,callback:function(t){e.$set(e.signForm,"checkPwd",t)},expression:"signForm.checkPwd"}},[l("span",{attrs:{slot:"suffix"},on:{click:e.showPwd2},slot:"suffix"},[l("i",{staticClass:"el-icon-view"})])])],1)],1),e._v(" "),l("el-button",{staticClass:"forget_btn",attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleRestPassword.apply(null,arguments)}}},[e._v("\n          "+e._s(e.elementContentList.portal_login_text8||e.$t("login.text8"))+"\n        ")])],1),e._v(" "),l("p",{staticClass:"have_account"},[l("span",{on:{click:e.handleLoginIn}},[e._v(e._s(e.elementContentList.portal_login_text9||e.$t("login.text9")))])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo flex_c_c"},[t("img",{attrs:{src:l("DTGR")}}),this._v(" "),t("img",{attrs:{src:l("74gh")}})])}]};var d=l("VU/8")(s,r,!1,function(e){l("SKNd")},null,null);t.default=d.exports},SKNd:function(e,t){}});
//# sourceMappingURL=12.9b8c7797351f5cabd2d4.js.map