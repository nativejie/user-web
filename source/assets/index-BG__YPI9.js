import{n as c,u as m,h,i as p,_ as o}from"./index-C6rblSgp.js";import{g as u,a as _,c as f,d as A,e as v,f as C}from"./order-DUiBgAo_.js";import{p as y,i as g,g as w,q as n}from"./index-Boc6VL_F.js";import{_ as b}from"./loading-Dppyagj-.js";const x="/assets/logo-vDS7wGhH.png",l="data:image/png;base64,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",d="data:image/png;base64,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",L={name:"settlement",components:{pay:y},data(){return{num:12,addressList:[],payList:[{}],actAddress:0,normalAddr:"",customAddr:"",actPay:0,disabled:!1,isChooseAddr:!1,ShowChooseAddr:!1,showAddressInfo:!1,ShowChoosePay:!0,showPayInfo:!1,isChooseReview:!1,ShowChooseReview:!1,showReviewInfo:!1,showSaveBtn:"",step:"pay",isOrder:!0,showEditForm:!1,formData:{country:"United Kingdom",name:"",phoneNumber:"",postCode:"",detailAddress:"",detailAddressTwo:"",city:"",region:"",defaultStatus:0,memberId:""},formRules:{name:[{required:!0,trigger:"blur",message:"Please enter a name"}],phoneNumber:[{required:!0,trigger:"blur",message:"Please enter a phone number so we can call if there are any issues with delivery"}],postCode:[{required:!0,trigger:"blur",message:"Please enter a ZIP or postal code"}],detailAddress:[{required:!0,trigger:"blur",message:"Please enter an address"}],city:[{required:!0,trigger:"blur",message:"Please enter a city name"}]},cartIds:[],from:"",orderDetail:"",payCode:"",showPayCode:!1,orderId:"",method:1,payResult:"",paypalHrefLink:"",showPayMethod:!1,loading:!1,elementContentList:"",customList:[],normalList:[],type:"normal",ActMethod:1,isGroup:!1}},created(){if(this.elementContentList=window.elementContentList,this.from=this.$route.query.from,this.from=="cart")this.getGenerateConfirmOrder();else if(this.from=="now"){let a=JSON.parse(this.$route.query.params);this.orderDetail=a,this.normalList=a.confirmOrderItemList}else if(this.from=="nowCustom"){let a=JSON.parse(this.$route.query.params);this.orderDetail=a,this.customList=a.confirmOrderItemList}this.getAddressList()},methods:{handleShowAddr(a){this.type=a,this.type=="custom"&&this.customAddr!=""?this.addressList.map((t,e)=>{t.id==this.customAddr.id&&(this.actAddress=e)}):this.type=="normal"&&this.normalAddr!=""&&this.addressList.map((t,e)=>{t.id==this.normalAddr.id&&(this.actAddress=e)}),this.ShowChooseAddr=!0},handleCloseAddr(){this.ShowChooseAddr=!1},handleConfirmAddr(){this.ShowChooseAddr=!1,this.type=="custom"?(this.customAddr=this.addressList[this.actAddress],this.ActMethod=this.method):this.normalAddr=this.addressList[this.actAddress]},handleChangeMethod(a){this.method=a},handleClose(){this.showPayCode=!1},getGenerateConfirmOrder(){this.cartIds=JSON.parse(this.$route.query.cartIds),this.isGroup=JSON.parse(this.$route.query.isGroup),this.cartIds+"",this.isGroup?u(this.cartIds+"").then(a=>{this.orderDetail=a.data,this.orderDetail.calcAmount=a.data.calcGroupAmount,this.customList=[],this.normalList=[],a.data.orderResultVOS.forEach(t=>{t.confirmCartItemList[0].productType=="custom"?this.customList=t.confirmCartItemList:this.normalList=t.confirmCartItemList})}):_(this.cartIds+"").then(a=>{this.orderDetail=a.data,this.customList=[],this.normalList=[],a.data.confirmCartItemList.forEach(t=>{t.productType=="custom"?this.customList.push(t):this.normalList.push(t)})})},handleToOrder(){this.$router.push({path:"/my/order",query:{orderId:this.orderId}})},handleChangeAgain(a){this.disabled=!0,this.ShowChoosePay=!0,this.ShowChooseReview=!1,this.showReviewInfo=!0,this.showSaveBtn="pay"},handleSaveAgain(){this.disabled=!1,this.ShowChoosePay=!1,this.ShowChooseReview=!0,this.showReviewInfo=!1,this.showSaveBtn=""},handleSavePay(){this.ShowChoosePay=!1,this.isChooseReview=!0,this.ShowChooseReview=!0,this.showReviewInfo=!1,this.showSaveBtn="",this.step="review"},handleCheckResult(){g(this.payResult.payBillId).then(a=>{let t={orderId:this.orderId,addressInfo:this.normalAddr,productList:this.orderDetail,payResult:this.payResult};a.data?this.$router.push({path:"/order/pay/success",query:{settlemenData:JSON.stringify(t)}}):this.$router.push({path:"/order/pay/fail",query:{settlemenData:JSON.stringify(t)}})})},handleSaveRev(){if(this.loading=!0,this.from=="cart")if(this.isGroup){let a=[];if(this.customList.length>0){let e={cartIds:[this.customList[0].id],deliveryType:this.ActMethod,memberAddressId:this.ActMethod==1?Number(this.customAddr.id):"",note:"",payType:1,sourceType:0};a.push(e)}if(this.normalList.length>0){let e=[];this.normalList.map(i=>{e.push(i.id)});let s={cartIds:e,deliveryType:1,memberAddressId:this.ActMethod==1?Number(this.normalAddr.id):"",note:"",payType:1,sourceType:0};a.push(s)}f({orderRequests:a,payType:1}).then(e=>{this.showSaveBtn="",this.orderId=e.data,this.$store.dispatch("UpdateCartNum");const s={orderGroupId:e.data,payToolType:"PAYPAL"};w(s).then(i=>{this.loading=!1,this.showPayCode=!0,this.payResult=i.data,this.paypalHrefLink=i.data.paypalHrefLink,window.open(i.data.paypalHrefLink)}).catch(()=>{this.loading=!1})}).catch(()=>{this.loading=!1})}else{const a={cartIds:this.cartIds,memberAddressId:this.normalAddr?Number(this.normalAddr.id):Number(this.customAddr.id),note:"",payType:1,sourceType:0,deliveryType:this.ActMethod};A(a).then(t=>{this.showSaveBtn="",this.orderId=t.data,this.$store.dispatch("UpdateCartNum");const e={orderId:t.data,payToolType:"PAYPAL"};n(e).then(s=>{this.loading=!1,this.showPayCode=!0,this.payResult=s.data,this.paypalHrefLink=s.data.paypalHrefLink,window.open(s.data.paypalHrefLink)}).catch(()=>{this.loading=!1})}).catch(()=>{this.loading=!1})}else if(this.from=="now"){const a={deliveryType:this.method,memberAddressId:Number(this.normalAddr.id),note:"",payType:10,sourceType:0,productBaseUid:this.orderDetail.confirmOrderItemList[0].productBaseUid,productSkuUid:this.orderDetail.confirmOrderItemList[0].productSkuUid,productUid:this.orderDetail.confirmOrderItemList[0].productUid,quantity:this.orderDetail.confirmOrderItemList[0].quantity,deliveryType:this.method};v(a).then(t=>{this.showSaveBtn="",this.orderId=t.data,this.$store.dispatch("UpdateCartNum");const e={orderId:t.data,payToolType:"PAYPAL"};n(e).then(s=>{this.loading=!1,this.showPayCode=!0,this.payResult=s.data,this.paypalHrefLink=s.data.paypalHrefLink,window.open(s.data.paypalHrefLink)}).catch(()=>{this.loading=!1})}).catch(()=>{this.loading=!1})}else if(this.from=="nowCustom"){const a={customUid:this.orderDetail.customUid,deliveryType:this.method,memberAddressId:Number(this.customAddr.id),note:"",payType:10,sourceType:0};C(a).then(t=>{this.showSaveBtn="",this.orderId=t.data,this.$store.dispatch("UpdateCartNum");const e={orderId:t.data,payToolType:"PAYPAL"};n(e).then(s=>{this.loading=!1,this.showPayCode=!0,this.payResult=s.data,this.paypalHrefLink=s.data.paypalHrefLink,window.open(s.data.paypalHrefLink)}).catch(()=>{this.loading=!1})}).catch(()=>{this.loading=!1})}},handleMinusNum(a){},handleAddNum(a){},handleInput(a){},handleChangePay(a,t){this.actPay=t},handleConfirm(){this.$refs.formData.validate(a=>{if(a){const t={...this.formData,defaultStatus:this.formData.defaultStatus?1:0};m(t,this.formData.id).then(e=>{e.code==200&&(this.getAddressList(),this.showEditForm=!1,this.$message.success({message:this.elementContentList.portal_settlement_msg1||this.$t("settlement.msg1"),duration:1500}))})}else return!1})},handleCancel(){this.showEditForm=!1},getAddressList(){h().then(a=>{let t=a.data,e="",s="";t.forEach((i,r)=>{i.defaultStatus&&(s=i,e=r)}),t.splice(e,1),t.unshift(s),this.addressList=t})},handleEditAddress(a,t){p(a.id).then(e=>{e.code==200&&(this.formData=e.data,this.showEditForm=!0)})},handleChangeAddress(a,t){this.actAddress=t}}};var S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settlement"},[t.isOrder?e("div",{staticClass:"settlement_container"},[t._m(0),e("div",{staticClass:"set_main"},[e("div",{staticClass:"main_left"},[e("div",{staticClass:"pay_card"},[e("div",{staticClass:"card_head"},[e("div",{staticClass:"card_title"},[e("span",[t._v("1")]),e("span",[t._v(t._s(t.elementContentList.portal_settlement_title2||t.$t("settlement.title2")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.ShowChoosePay,expression:"!ShowChoosePay"}],staticClass:"add_info"},[e("div",{staticClass:"info_left"},[e("p",[t._v(" "+t._s(t.elementContentList.portal_settlement_text5||t.$t("settlement.text5"))+" ")])]),e("div",{staticClass:"info_right"},[e("el-button",{staticClass:"btn",attrs:{type:"text"},on:{click:function(s){return t.handleChangeAgain("pay")}}},[t._v(t._s(t.elementContentList.portal_btns_change||t.$t("btns.change")))])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSaveBtn=="pay",expression:"showSaveBtn == 'pay'"}]},[e("el-button",{staticStyle:{padding:"0",color:"#f6497f"},attrs:{type:"text"},on:{click:function(s){return t.handleSaveAgain()}}},[t._v(t._s(t.elementContentList.portal_btns_save||t.$t("btns.save")))])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.ShowChoosePay,expression:"ShowChoosePay"}],staticClass:"pay_list"},t._l(t.payList,function(s,i){return e("div",{key:i+"ad",staticClass:"addr_item",class:t.actPay==i?"active":"",style:i%3==2?{marginRight:0}:"",on:{click:function(r){return t.handleChangePay(s,i)}}},[t._m(1,!0),e("p",[t._v(" "+t._s(t.elementContentList.portal_settlement_text5||t.$t("settlement.text5"))+" ")]),e("p",{staticClass:"pay_de"},[i==0?e("span",{staticClass:"defualt"},[t._v(t._s(t.elementContentList.portal_btns_default||t.$t("btns.default")))]):t._e()])])}),0)]),e("div",{staticClass:"review_card"},[e("div",{staticClass:"card_head",class:t.isChooseReview?"":"not_choose"},[e("div",{staticClass:"card_title"},[e("span",[t._v("2")]),e("span",[t._v(t._s(t.elementContentList.portal_settlement_title3||t.$t("settlement.title3")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showReviewInfo,expression:"showReviewInfo"}],staticClass:"review_info"},[t._m(2),t._l(t.customList,function(s,i){return e("div",{key:i+"qc",staticClass:"pro_info"},[t._m(3,!0),e("div",{staticClass:"pro_title"},[e("p",[t._v(t._s(s.productName))])])])}),t._l(t.normalList,function(s,i){return e("div",{key:i+"q",staticClass:"pro_info"},[e("div",{staticClass:"pro_img flex_c_c"},[s.productPicUrl?e("img",{attrs:{src:s.productPicUrl}}):e("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:o}})]),e("div",{staticClass:"pro_title"},[e("p",[t._v(t._s(s.productName))])])])})],2)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.ShowChooseReview,expression:"ShowChooseReview"}],staticClass:"review_list"},[t.customList.length>0?e("div",{staticClass:"border"},[e("span",{staticClass:"title2"},[t._v(t._s(t.elementContentList.portal_settlement_text12||t.$t("settlement.text12")))]),e("div",{staticClass:"addr_card"},[t.customAddr?e("div",{staticClass:"flex card_info"},[e("img",{attrs:{src:l}}),e("div",{staticClass:"addr_info"},[t.ActMethod==1?e("p",[t._v(" "+t._s(t.customAddr.detailAddress+(t.customAddr.detailAddress?",":"")+t.customAddr.detailAddressTwo+(t.customAddr.detailAddressTwo?",":"")+t.customAddr.city+(t.customAddr.city?",":"")+t.customAddr.country)+" ")]):t._e(),t.ActMethod==1?e("p",{staticStyle:{"margin-top":"8px"}},[e("span",[t._v(t._s(t.customAddr.name))]),e("span",{staticStyle:{"margin-left":"24px",color:"#646873"}},[t._v(t._s(t.customAddr.phoneNumber))])]):t._e(),t.ActMethod==2?e("p",[t._v(" "+t._s(t.elementContentList.portal_settlement_text16||t.$t("settlement.text16"))+" ")]):t._e()]),e("el-button",{attrs:{type:"text"},on:{click:function(s){return t.handleShowAddr("custom")}}},[t._v(t._s(t.elementContentList.portal_btns_edit||t.$t("btns.edit")))])],1):e("p",{staticStyle:{"text-align":"center"}},[e("span",[t._v(t._s(t.elementContentList.portal_settlement_text14||t.$t("settlement.text14")))]),e("span",{staticStyle:{color:"#f6497f","margin-left":"12px",cursor:"pointer"},on:{click:function(s){return t.handleShowAddr("custom")}}},[t._v(t._s(t.elementContentList.portal_settlement_text15||t.$t("settlement.text15")))])])]),t._l(t.customList,function(s,i){return e("div",{key:i+"c",staticClass:"pro_item"},[e("div",{staticClass:"cus_item item"},[e("div",{staticClass:"pro_img flex_c_c"},[s.productPicUrl?e("img",{attrs:{src:s.productPicUrl}}):e("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:o}})]),e("div",{staticClass:"pro_info"},[e("p",[t._v(t._s(s.productName))]),t._l(s.cartCusObjItemVOS,function(r){return e("p",{key:r.cartCusItemId},[e("span",{staticStyle:{"margin-right":"24px"}},[t._v(t._s(r.objNickname))]),e("span",{staticStyle:{"margin-right":"24px"}},[t._v(t._s((r.height?r.height+"cm":"")+(r.weight?r.weight+"kg":"")))]),e("span",{staticStyle:{"margin-right":"24px"}},[t._v(t._s(r.ratio))]),e("span",{staticStyle:{"margin-right":"24px",color:"#f6497f"}},[t._v("£ "+t._s(r.price))])])}),e("div",{staticClass:"pro_info2"},[e("div",{staticStyle:{"margin-top":"16px"}},t._l(s.cartCusServiceItemVOS,function(r){return e("div",{key:r.cartCusItemId,staticClass:"pro_item flex"},[e("div",{staticClass:"flex_c_c img"},[e("img",{attrs:{src:r.productPicUrl}})]),e("div",{staticClass:"pro_name"},[e("div",{staticClass:"name"},[t._v(t._s(r.productName))]),e("div",[e("span",[t._v(t._s("x "+r.quantity))]),e("span",{staticClass:"pro_price"},[t._v("£ "+t._s(r.price))])])])])}),0)]),e("p",{staticClass:"pro_price",staticStyle:{"text-align":"right","margin-top":"12px"}},[t._v(" £ "+t._s(s.price)+" ")])],2)])])})],2):t._e(),t.normalList.length>0?e("div",{staticClass:"border",staticStyle:{"margin-top":"16px"}},[e("span",{staticClass:"title2"},[t._v(t._s(t.elementContentList.portal_settlement_text13||t.$t("settlement.text13")))]),e("div",{staticClass:"addr_card"},[t.normalAddr?e("div",{staticClass:"flex card_info"},[e("img",{attrs:{src:l}}),e("div",{staticClass:"addr_info"},[e("p",[t._v(" "+t._s(t.normalAddr.detailAddress+(t.normalAddr.detailAddress?",":"")+t.normalAddr.detailAddressTwo+(t.normalAddr.detailAddressTwo?",":"")+t.normalAddr.city+(t.normalAddr.city?",":"")+t.normalAddr.country)+" ")]),e("p",{staticStyle:{"margin-top":"8px"}},[e("span",[t._v(t._s(t.normalAddr.name))]),e("span",{staticStyle:{"margin-left":"24px",color:"#646873"}},[t._v(t._s(t.normalAddr.phoneNumber))])])]),e("el-button",{attrs:{type:"text"},on:{click:function(s){return t.handleShowAddr("normal")}}},[t._v(t._s(t.elementContentList.portal_btns_edit||t.$t("btns.edit")))])],1):e("p",{staticStyle:{"text-align":"center"}},[e("span",[t._v(t._s(t.elementContentList.portal_settlement_text14||t.$t("settlement.text14")))]),e("span",{staticStyle:{color:"#f6497f","margin-left":"12px",cursor:"pointer"},on:{click:function(s){return t.handleShowAddr("normal")}}},[t._v(t._s(t.elementContentList.portal_settlement_text15||t.$t("settlement.text15")))])])]),t._l(t.normalList,function(s,i){return e("div",{key:i+"n",staticClass:"pro_item"},[e("div",{staticClass:"item"},[e("div",{staticClass:"pro_img flex_c_c"},[s.productPicUrl?e("img",{attrs:{src:s.productPicUrl}}):e("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:o}})]),e("div",{staticClass:"pro_info"},[e("p",[t._v(t._s(s.productName))]),t._l(s.attributeValueVOs,function(r){return e("p",{key:r.productAttributeValueUid},[e("span",[t._v(t._s(r.productAttributeName)+"：")]),t._v(t._s(r.value)+" ")])}),e("p",{staticClass:"pro_price"},[t._v("£ "+t._s(s.price))]),s.productType!="custom"?e("p",{staticClass:"quantity"},[e("span",[t._v(t._s(t.elementContentList.portal_cart_text4||t.$t("cart.text4")))]),e("el-input",{attrs:{disabled:""},on:{input:function(r){return t.handleInput(i)}},model:{value:s.quantity,callback:function(r){t.$set(s,"quantity",r)},expression:"item.quantity"}}),e("el-button",{staticClass:"btn btn3",attrs:{disabled:"",icon:"el-icon-arrow-up"},on:{click:function(r){return t.handleAddNum(i)}}}),e("el-button",{staticClass:"btn btn2",attrs:{disabled:"",icon:"el-icon-arrow-down"},on:{click:function(r){return t.handleMinusNum(i)}}})],1):t._e()],2)])])})],2):t._e()])])]),e("div",{staticClass:"main_right"},[e("div",{staticClass:"total_card"},[e("p",{staticClass:"flex_b_c"},[e("span",[t._v(t._s(t.elementContentList.portal_settlement_text6||t.$t("settlement.text6")))]),e("span",[t._v("£ "+t._s(t.orderDetail?t.orderDetail.calcAmount.totalAmount:0))])]),e("p",{staticClass:"flex_b_c"},[e("span",[t._v(t._s(t.elementContentList.portal_settlement_text7||t.$t("settlement.text7")))]),e("span",[t._v("£ "+t._s(t.orderDetail&&t.orderDetail.calcAmount.freightAmount?t.orderDetail.calcAmount.freightAmount:0))])]),e("p",{staticClass:"flex_b_c"},[e("span",[t._v(t._s(t.elementContentList.portal_settlement_text8||t.$t("settlement.text8")))]),e("span",[t._v("£ "),e("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.orderDetail?t.orderDetail.calcAmount.payAmount:0))])])]),e("p",[e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.step=="pay",expression:"step == 'pay'"}],staticClass:"set_btn",class:t.disabled?"btn_disabled":"",attrs:{disabled:t.disabled},on:{click:t.handleSavePay}},[t._v(t._s(t.elementContentList.portal_settlement_btns_btn2||t.$t("settlement.btns.btn2")))]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.step=="review",expression:"step == 'review'"}],staticClass:"set_btn",class:t.disabled?"btn_disabled":"",attrs:{disabled:t.disabled},on:{click:t.handleSaveRev}},[t._v(t._s(t.elementContentList.portal_settlement_btns_btn3||t.$t("settlement.btns.btn3")))])],1)])])])]):t._e(),t.showEditForm?e("div",{staticClass:"dialog flex_c_c"},[e("div",{staticClass:"form_card"},[e("p",{staticClass:"dia_title"},[t._v(" "+t._s(t.elementContentList.portal_address_text10||t.$t("address.text10"))+" ")]),e("el-form",{ref:"formData",attrs:{model:t.formData,"label-position":"top",rules:t.formRules}},[e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text11||t.$t("address.text11")}},[e("el-input",{attrs:{disabled:""},model:{value:t.formData.country,callback:function(s){t.$set(t.formData,"country",s)},expression:"formData.country"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text12||t.$t("address.text12"),required:""}},[e("el-input",{model:{value:t.formData.name,callback:function(s){t.$set(t.formData,"name",s)},expression:"formData.name"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text13||t.$t("address.text13"),required:""}},[e("el-input",{model:{value:t.formData.phoneNumber,callback:function(s){t.$set(t.formData,"phoneNumber",s)},expression:"formData.phoneNumber"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text14||t.$t("address.text14"),required:""}},[e("el-input",{model:{value:t.formData.postCode,callback:function(s){t.$set(t.formData,"postCode",s)},expression:"formData.postCode"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text15||t.$t("address.text15"),required:""}},[e("el-input",{model:{value:t.formData.detailAddress,callback:function(s){t.$set(t.formData,"detailAddress",s)},expression:"formData.detailAddress"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text16||t.$t("address.text16")}},[e("el-input",{model:{value:t.formData.detailAddressTwo,callback:function(s){t.$set(t.formData,"detailAddressTwo",s)},expression:"formData.detailAddressTwo"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text17||t.$t("address.text17"),required:""}},[e("el-input",{model:{value:t.formData.city,callback:function(s){t.$set(t.formData,"city",s)},expression:"formData.city"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text18||t.$t("address.text18")}},[e("el-input",{model:{value:t.formData.region,callback:function(s){t.$set(t.formData,"region",s)},expression:"formData.region"}})],1),e("el-form-item",{staticClass:"checkbox",attrs:{label:""}},[e("el-checkbox",{model:{value:t.formData.defaultStatus,callback:function(s){t.$set(t.formData,"defaultStatus",s)},expression:"formData.defaultStatus"}}),e("span",{staticStyle:{"margin-left":"8px"}},[t._v(t._s(t.elementContentList.portal_address_text19||t.$t("address.text19")))])],1),e("el-form-item",{attrs:{label:""}},[e("el-button",{staticClass:"btn",on:{click:t.handleConfirm}},[t._v(t._s(t.elementContentList.portal_address_text20||t.$t("address.text20")))]),e("el-button",{staticClass:"btn btn2",on:{click:t.handleCancel}},[t._v(t._s(t.elementContentList.portal_btns_cancel||t.$t("btns.cancel")))])],1)],1)],1)]):t._e(),t.showPayCode?e("div",{staticClass:"dia_pay flex_c_c"},[e("div",{staticClass:"pay_code"},[e("div",{staticClass:"close",on:{click:t.handleClose}},[e("i",{staticClass:"el-icon-close"})]),e("p",[t._v(" "+t._s(t.elementContentList.portal_order_text29||t.$t("order.text29"))+" ")]),e("div",{staticClass:"url"},[t._v(t._s(t.paypalHrefLink))]),e("p",{staticClass:"check_btn"},[e("el-button",{on:{click:t.handleCheckResult}},[t._v(t._s(t.elementContentList.portal_order_text30||t.$t("order.text30")))])],1)])]):t._e(),t.loading?e("div",{staticClass:"my_loading flex_c_c"},[e("img",{attrs:{src:b}}),e("p",[t._v(t._s(t.elementContentList.portal_order_text31||t.$t("order.text31")))])]):t._e(),t.ShowChooseAddr?e("div",{staticClass:"address flex_c_c"},[e("div",{staticClass:"address_card"},[e("div",{staticClass:"card_head"},[e("div",{staticClass:"addr_title"},[t.type=="custom"?e("span",[t._v(t._s(t.elementContentList.portal_settlement_title4||t.$t("settlement.title4")))]):e("span",[t._v(t._s(t.elementContentList.portal_settlement_title5||t.$t("settlement.title5")))])])]),e("div",{staticClass:"address_list"},[t.type=="custom"?e("div",{staticClass:"method flex",on:{click:function(s){return t.handleChangeMethod(1)}}},[e("div",{staticClass:"item flex",class:t.method==1?"active":""},[e("div",{staticClass:"check"},[t.method==1?e("i",{staticClass:"el-icon-success"}):t._e()]),e("span",[t._v(t._s(t.elementContentList.portal_settlement_text1||t.$t("settlement.text1")))]),e("div",{staticClass:"border"})]),e("span",[t._v(t._s(t.elementContentList.portal_settlement_text2||t.$t("settlement.text2")))])]):t._e(),t.type=="custom"?e("div",{staticClass:"method flex",on:{click:function(s){return t.handleChangeMethod(2)}}},[e("div",{staticClass:"item flex",class:t.method==2?"active":""},[e("div",{staticClass:"check"},[t.method==2?e("i",{staticClass:"el-icon-success"}):t._e()]),e("span",[t._v(t._s(t.elementContentList.portal_settlement_text3||t.$t("settlement.text3")))]),e("div",{staticClass:"border"})]),e("span",[t._v(t._s(t.elementContentList.portal_settlement_text4||t.$t("settlement.text4")))])]):t._e(),t._l(t.addressList,function(s,i){return e("div",{key:i+"ad",staticClass:"addr_item",class:t.actAddress==i?"active":"",style:i%3==2?{marginRight:0}:"",on:{click:function(r){return t.handleChangeAddress(s,i)}}},[t._m(4,!0),e("p",[t._v(t._s(s.name))]),e("p",[t._v(" "+t._s(s.detailAddress+","+s.city+","+s.country)+" ")]),e("p",[t._v(t._s(s.phoneNumber))]),e("p",{staticClass:"flex_b_c"},[e("el-button",{staticStyle:{color:"#f6497f",padding:"0"},attrs:{type:"text"},on:{click:function(r){return r.stopPropagation(),t.handleEditAddress(s,i)}}},[t._v(t._s(t.elementContentList.portal_btns_edit||t.$t("btns.edit")))]),i==0?e("span",{staticClass:"defualt"},[t._v(t._s(t.elementContentList.portal_btns_default||t.$t("btns.default")))]):t._e()],1)])})],2),e("p",{staticClass:"addr_bnts"},[e("el-button",{staticClass:"btn",on:{click:t.handleCloseAddr}},[t._v(t._s(t.elementContentList.portal_btns_cancel||t.$t("btns.cancel")))]),e("el-button",{staticClass:"btn2 btn",on:{click:t.handleConfirmAddr}},[t._v(t._s(t.elementContentList.portal_btns_confirm||t.$t("btns.confirm")))])],1)])]):t._e()])},I=[function(){var a=this,t=a._self._c;return t("p",{staticClass:"set_title flex_b_c"},[t("img",{attrs:{src:x}})])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"checked"},[t("img",{attrs:{src:d}})])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"info_head"},[t("div",{staticClass:"info_left"})])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"pro_img flex_c_c"},[t("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:o}})])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"checked"},[t("img",{attrs:{src:d}})])}],D=c(L,S,I,!1,null,null);const U=D.exports;export{U as default};
