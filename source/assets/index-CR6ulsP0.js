import{a as s,n as r}from"./index-C6rblSgp.js";import{l as i,_ as c,a as p}from"./pokidol-3C28LqC9.js";function a(n,t,e){return s.set(n,t,{expires:e})}function l(n){return s.get(n)}const _={name:"login",data(){return{loginForm:{account:"",password:""},loginRules:{},loading:!1,pwdType:"password",login_center_bg:i,dialogVisible:!1,supportDialogVisible:!1,rememberPwd:!1,elementContentList:""}},created(){this.elementContentList=window.elementContentList,this.loginForm.account=l("account"),this.loginForm.password=l("password")},methods:{handleForgetPwd(){this.$router.push("/password_find")},handleSignUp(){this.$router.push("/register")},showPwd(){this.pwdType==="password"?this.pwdType="":this.pwdType="password"},handleLogin(){this.$refs.loginForm.validate(n=>{if(n)this.loading=!0,this.$store.dispatch("Login",this.loginForm).then(()=>{this.loading=!1,a("account",this.loginForm.account,15),a("password",this.loginForm.password,15),this.$router.push({path:"/home"})}).catch(()=>{this.loading=!1});else return!1})}}};var m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login flex_c_c"},[t._m(0),e("div",{staticClass:"login_main flex_c_c"},[e("div",{staticClass:"login_card"},[e("p",{staticClass:"p1"},[t._v(" "+t._s(t.elementContentList.portal_navbar_title||t.$t("login.title"))+" ")]),e("p",{staticClass:"p2"},[t._v(" "+t._s(t.elementContentList.portal_navbar_text1||t.$t("login.text1"))+" "),e("span",{on:{click:t.handleSignUp}},[t._v(" "+t._s(t.elementContentList.portal_navbar_text2||t.$t("login.text2")))])]),e("div",{staticClass:"form_card"},[e("el-form",{ref:"loginForm",attrs:{autoComplete:"on",model:t.loginForm,"label-position":"top"}},[e("el-form-item",{attrs:{prop:"account",label:t.elementContentList.portal_navbar_form_label1||t.$t("login.form.label1")}},[e("el-input",{attrs:{name:"account",type:"text",autoComplete:"on",placeholder:t.elementContentList.portal_navbar_form_placeholder1||t.$t("login.form.placeholder1")},model:{value:t.loginForm.account,callback:function(o){t.$set(t.loginForm,"account",o)},expression:"loginForm.account"}})],1),e("el-form-item",{attrs:{prop:"password",label:t.elementContentList.portal_navbar_form_label2||t.$t("login.form.label2")}},[e("el-input",{attrs:{name:"password",type:t.pwdType,autoComplete:"on",placeholder:t.elementContentList.portal_navbar_form_placeholder2||t.$t("login.form.placeholder2")},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.handleLogin.apply(null,arguments)}},model:{value:t.loginForm.password,callback:function(o){t.$set(t.loginForm,"password",o)},expression:"loginForm.password"}},[e("span",{attrs:{slot:"suffix"},on:{click:t.showPwd},slot:"suffix"},[e("i",{staticClass:"el-icon-view"})])])],1)],1)],1),e("div",{staticClass:"flex_b_c login_remember"},[e("el-checkbox",{model:{value:t.rememberPwd,callback:function(o){t.rememberPwd=o},expression:"rememberPwd"}},[t._v(t._s(t.elementContentList.portal_navbar_text3||t.$t("login.text3")))]),e("span",{staticClass:"forget_pwd",on:{click:t.handleForgetPwd}},[t._v(t._s(t.elementContentList.portal_navbar_text4||t.$t("login.text4")))])],1),e("el-button",{staticClass:"login_btn",attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(o){return o.preventDefault(),t.handleLogin.apply(null,arguments)}}},[t._v(" "+t._s(t.elementContentList.portal_navbar_text5||t.$t("login.text5"))+" ")])],1)])])},d=[function(){var n=this,t=n._self._c;return t("div",{staticClass:"logo flex_c_c"},[t("img",{attrs:{src:c}}),t("img",{attrs:{src:p}})])}],u=r(_,m,d,!1,null,null);const h=u.exports;export{h as default};
