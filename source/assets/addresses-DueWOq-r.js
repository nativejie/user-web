import{n as i,h as o,i as m,B as _,C as c,u}from"./index-C6rblSgp.js";import{_ as f}from"./noData-Cf3Dxh9O.js";const h={name:"",data(){return{showAddForm:!1,formData:{country:"United Kingdom",name:"",phoneNumber:"",postCode:"",detailAddress:"",detailAddressTwo:"",city:"",region:"",defaultStatus:0,memberId:""},formRules:{name:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text21||this.$t("address.text21")}],phoneNumber:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text22||this.$t("address.text22")}],postCode:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text23||this.$t("address.text23")}],detailAddress:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text24||this.$t("address.text24")}],city:[{required:!0,trigger:"blur",message:elementContentList.portal_address_text25||this.$t("address.text25")}]},addressList:[],userInfo:"",status:"add",elementContentList:""}},mounted(){this.elementContentList=window.elementContentList,this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.formData.memberId=this.userInfo.id,this.getAddressList()},methods:{getAddressList(){o().then(a=>{let t=a.data,e="",s="";t.forEach((d,r)=>{d.defaultStatus&&(s=d,e=r)}),t.splice(e,1),t.unshift(s),this.addressList=t})},handleEdit(a){this.status="edit",m(a.id).then(t=>{t.code==200&&(this.formData=t.data,this.showAddForm=!0)})},handleRemove(a,t){const e=this.$createElement;let s=this.elementContentList.portal_address_text26||this.$t("address.text26"),d=this.elementContentList.portal_address_text27||this.$t("address.text27"),r=this.elementContentList.portal_btns_ok||this.$t("btns.ok"),l=this.elementContentList.portal_btns_cancel||this.$t("btns.cancel");this.$msgbox({message:e("div",null,[e("p",{style:"font-size: 16px;font-weight: 500;line-height: 24px;margin-bottom:8px;"},s),e("p",null,d)]),cancelButtonClass:"cancel_btn",confirmButtonClass:"confirm_btn",showCancelButton:!0,confirmButtonText:r,cancelButtonText:l,type:"warning"}).then(()=>{_(a.id).then(n=>{n.code==200&&this.getAddressList()})}).catch(()=>{})},handleConfirm(){this.$refs.formData.validate(a=>{if(a){const t={...this.formData,defaultStatus:this.formData.defaultStatus?1:0};this.status=="add"?c(t).then(e=>{e.code==200&&(this.getAddressList(),this.showAddForm=!1,this.$message.success({message:this.elementContentList.portal_address_text28||this.$t("address.text28"),duration:1500}))}):u(t,this.formData.id).then(e=>{e.code==200&&(this.getAddressList(),this.showAddForm=!1,this.$message.success({message:this.elementContentList.portal_address_text28||this.$t("address.text28"),duration:1500}))})}else return!1})},handleCancel(){this.showAddForm=!1},handleAddNew(){this.status="add",this.showAddForm=!0,this.formData={country:"United Kingdom",name:"",phoneNumber:"",postCode:"",detailAddress:"",detailAddressTwo:"",city:"",region:"",defaultStatus:0,memberId:""}}}};var p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addresses"},[e("div",{staticClass:"title flex_b_c"},[e("span",[t._v(t._s(t.elementContentList.portal_address_text1||t.$t("address.text1")))]),this.addressList.length>0?e("el-button",{staticClass:"btn",on:{click:t.handleAddNew}},[t._v(t._s(t.elementContentList.portal_btns_addNew||t.$t("btns.addNew")))]):t._e()],1),this.addressList.length>0?e("div",{staticClass:"addresses_container"},t._l(t.addressList,function(s,d){return e("div",{key:d+"a",staticClass:"addr_item",style:d%2==1?{marginRight:0}:""},[e("div",{staticClass:"addr_row",staticStyle:{"font-weight":"500"}},[e("div",{staticClass:"addr_label"},[t._v(" "+t._s(t.elementContentList.portal_address_text2||t.$t("address.text2"))+" ")]),e("div",{staticClass:"addr_val"},[t._v(t._s(s.name))])]),e("div",{staticClass:"addr_row"},[e("div",{staticClass:"addr_label"},[t._v(" "+t._s(t.elementContentList.portal_address_text3||t.$t("address.text3"))+" ")]),e("div",{staticClass:"addr_val"},[t._v(t._s(s.country))])]),e("div",{staticClass:"addr_row"},[e("div",{staticClass:"addr_label"},[t._v(" "+t._s(t.elementContentList.portal_address_text4||t.$t("address.text4"))+" ")]),e("div",{staticClass:"addr_val"},[t._v(t._s(s.detailAddress))])]),e("div",{staticClass:"addr_row"},[e("div",{staticClass:"addr_label"},[t._v(" "+t._s(t.elementContentList.portal_address_text5||t.$t("address.text5"))+" ")]),e("div",{staticClass:"addr_val"},[t._v(t._s(s.postCode))])]),e("div",{staticClass:"addr_row"},[e("div",{staticClass:"addr_label"},[t._v(" "+t._s(t.elementContentList.portal_address_text6||t.$t("address.text6"))+" ")]),e("div",{staticClass:"addr_val"},[t._v(t._s(s.phoneNumber))])]),e("div",{staticClass:"btns"},[s.defaultStatus?e("div",{staticClass:"default"},[t._v(" "+t._s(t.elementContentList.portal_btns_default||t.$t("btns.default"))+" ")]):t._e(),e("div",{staticStyle:{float:"right"}},[e("el-button",{staticStyle:{color:"#f6497f",padding:"0"},attrs:{type:"text"},on:{click:function(r){return t.handleRemove(s,d)}}},[t._v(t._s("Remove"))]),e("span",{staticStyle:{color:"#fde1e6",margin:"0 10px"}},[t._v(" | ")]),e("el-button",{staticStyle:{color:"#f6497f",padding:"0"},attrs:{type:"text"},on:{click:function(r){return t.handleEdit(s)}}},[t._v(t._s("Edit"))])],1)])])}),0):t._e(),this.addressList.length==0?e("div",{staticClass:"nodata flex_c_c"},[t._m(0),e("p",{staticStyle:{margin:"22px 0"}},[t._v(" "+t._s(t.elementContentList.portal_address_text7||t.$t("address.text7"))+" ")]),e("p",[e("el-button",{staticClass:"btn",on:{click:t.handleAddNew}},[t._v(t._s(t.elementContentList.portal_address_text8||t.$t("address.text8")))])],1)]):t._e(),t.showAddForm?e("div",{staticClass:"dialog flex_c_c"},[e("div",{staticClass:"form_card"},[e("p",{staticClass:"dia_title"},[t._v(" "+t._s(t.status=="add"?t.elementContentList.portal_address_text9||t.$t("address.text9"):t.elementContentList.portal_address_text10||t.$t("address.text10"))+" ")]),e("el-form",{ref:"formData",attrs:{model:t.formData,"label-position":"top",rules:t.formRules}},[e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text11||t.$t("address.text11")}},[e("el-input",{attrs:{disabled:""},model:{value:t.formData.country,callback:function(s){t.$set(t.formData,"country",s)},expression:"formData.country"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text12||t.$t("address.text12"),required:""}},[e("el-input",{model:{value:t.formData.name,callback:function(s){t.$set(t.formData,"name",s)},expression:"formData.name"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text13||t.$t("address.text13"),required:""}},[e("el-input",{model:{value:t.formData.phoneNumber,callback:function(s){t.$set(t.formData,"phoneNumber",s)},expression:"formData.phoneNumber"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text14||t.$t("address.text14"),required:""}},[e("el-input",{model:{value:t.formData.postCode,callback:function(s){t.$set(t.formData,"postCode",s)},expression:"formData.postCode"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text15||t.$t("address.text15"),required:""}},[e("el-input",{model:{value:t.formData.detailAddress,callback:function(s){t.$set(t.formData,"detailAddress",s)},expression:"formData.detailAddress"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text16||t.$t("address.text16")}},[e("el-input",{model:{value:t.formData.detailAddressTwo,callback:function(s){t.$set(t.formData,"detailAddressTwo",s)},expression:"formData.detailAddressTwo"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text17||t.$t("address.text17"),required:""}},[e("el-input",{model:{value:t.formData.city,callback:function(s){t.$set(t.formData,"city",s)},expression:"formData.city"}})],1),e("el-form-item",{attrs:{label:t.elementContentList.portal_address_text18||t.$t("address.text18")}},[e("el-input",{model:{value:t.formData.region,callback:function(s){t.$set(t.formData,"region",s)},expression:"formData.region"}})],1),e("el-form-item",{staticClass:"checkbox",attrs:{label:""}},[e("el-checkbox",{model:{value:t.formData.defaultStatus,callback:function(s){t.$set(t.formData,"defaultStatus",s)},expression:"formData.defaultStatus"}}),e("span",{staticStyle:{"margin-left":"8px"}},[t._v(t._s(t.elementContentList.portal_address_text19||t.$t("address.text19")))])],1),e("el-form-item",{attrs:{label:""}},[e("el-button",{staticClass:"btn",on:{click:t.handleConfirm}},[t._v(t._s(t.status=="add"?t.elementContentList.portal_address_text8||t.$t("address.text8"):t.elementContentList.portal_address_text20||t.$t("address.text20")))]),e("el-button",{staticClass:"btn btn2",on:{click:t.handleCancel}},[t._v(t._s(t.elementContentList.portal_btns_cancel||t.$t("btns.cancel")))])],1)],1)],1)]):t._e()])},x=[function(){var a=this,t=a._self._c;return t("p",[t("img",{attrs:{src:f}})])}],C=i(h,p,x,!1,null,null);const g=C.exports;export{g as default};
