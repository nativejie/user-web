import{f as n}from"./index-V84Tf6o4.js";import{b as i}from"./product-kYgfBKcQ.js";import{_ as l}from"./loading-Dppyagj-.js";import{n as o}from"./index-C6rblSgp.js";import"./terms-ChenOVHG.js";const c={components:{footerBar:n},data(){return{searchData:{keyword:"",pageNum:1,pageSize:40},loading:!0,proList:[],total:0,elementContentList:""}},created(){this.elementContentList=window.elementContentList,this.handleSearch()},methods:{handleToDetail(a){this.$router.push({path:"/product",query:{uid:a.productUid}})},handleScroll(a){if(this.total-0==this.proList.length)return!1;a.srcElement.scrollTop+a.srcElement.offsetHeight>a.srcElement.scrollHeight-1&&(this.loading||(this.searchData.pageNum++,i(this.searchData).then(t=>{this.proList.push(...t.data.list),this.loading=!1}).catch(t=>{this.loading=!1,this.searchData.pageNum--})))},handleSearch(){this.loading=!0,i(this.searchData).then(a=>{this.proList=a.data.list,this.loading=!1}).catch(a=>{this.loading=!1})}}};var h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"general",on:{scroll:t.handleScroll}},[e("div",{staticClass:"general_container"},[e("p",{staticClass:"title"},[t._v(" "+t._s(t.elementContentList.portal_general_title||t.$t("general.title"))+" ")]),e("p",{staticClass:"search"},[e("el-input",{model:{value:t.searchData.keyword,callback:function(s){t.$set(t.searchData,"keyword",s)},expression:"searchData.keyword"}}),e("el-button",{staticClass:"search_btn",attrs:{icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v(t._s(t.elementContentList.portal_btns_search||t.$t("btns.search")))])],1),e("div",{staticClass:"pro_list"},[t._l(t.proList,function(s,r){return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],key:s.productBaseUid,staticClass:"pro_item",style:(r+1)%4==0?{marginRight:0}:"",on:{click:function(p){return t.handleToDetail(s,r)}}},[e("div",{staticClass:"pro_img"},[e("img",{attrs:{src:s.masterPicUrl}})]),e("p",{staticClass:"pro_title"},[t._v(t._s(s.name))]),e("p",{staticClass:"pro_price"},[t._v("Â£ "+t._s(s.price))])])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading flex_c_c"},[e("p",{staticClass:"flex_c_c"},[e("img",{attrs:{src:l}}),e("span",[t._v(t._s(t.elementContentList.portal_general_loading||t.$t("general.loading")))])])])],2)]),e("footerBar")],1)},d=[],_=o(c,h,d,!1,null,null);const C=_.exports;export{C as default};
